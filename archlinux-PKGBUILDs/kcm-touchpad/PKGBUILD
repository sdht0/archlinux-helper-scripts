# $Id: PKGBUILD 111114 2014-05-14 08:57:23Z andrea $
# Maintainer: Andrea Scarpino <andrea@archlinux.org>
# Contributor: A Rojas < nqn1976 @ gmail.com >
# Contributor: Alexander Mezin <mezin.alexander@gmail.com>

pkgname=kcm-touchpad-opt
_pkgname=kcm-touchpad
pkgver=1.1
pkgrel=1
pkgdesc='KCM, daemon and applet for touchpad'
arch=('i686' 'x86_64')
url='https://projects.kde.org/projects/playground/utils/kcm-touchpad'
license=('GPL')
depends=('kdebase-workspace' 'xf86-input-synaptics')
makedepends=('cmake' 'automoc4' 'xorg-server-devel')
install="${_pkgname}.install"
source=("https://github.com/sanya-m/kde-touchpad-config/archive/v${pkgver}.tar.gz")
md5sums=('SKIP')

prepare() {
  mkdir -p build
}

build() {
  cd build
  cmake ../${_pkgname}-${pkgver} \
    -DCMAKE_INSTALL_PREFIX=/opt/kde5/ \
    -DCMAKE_BUILD_TYPE=Release
  make
}

package() {
  cd build
  make DESTDIR="${pkgdir}" install
}
